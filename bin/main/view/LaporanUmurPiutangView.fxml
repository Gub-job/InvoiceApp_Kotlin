<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="controller.LaporanUmurPiutangController" 
      spacing="10.0">
   
   <!-- Header Section -->
   <HBox alignment="CENTER_LEFT" spacing="15.0" style="-fx-background-color: white; -fx-padding: 20;">
      <VBox spacing="3.0">
         <Label text="Laporan Umur Piutang">
            <font>
               <Font name="System Bold" size="20.0" />
            </font>
         </Label>
         <Label text="Pantau status piutang pelanggan" style="-fx-text-fill: #666666;">
            <font>
               <Font size="12.0" />
            </font>
         </Label>
      </VBox>
      
      <Region HBox.hgrow="ALWAYS" />
      
      <Label text="To Date:" style="-fx-font-weight: bold;" />
      <DatePicker fx:id="tanggalLaporanPicker" prefWidth="150.0" />
      <Button onAction="#onRefreshClicked" text="Refresh" 
              style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;">
         <font>
            <Font size="12.0" />
         </font>
      </Button>
   </HBox>
   
   <!-- Summary Cards - Horizontal (Urut dari kecil ke besar) -->
   <HBox spacing="10.0">
      <!-- Card 1: Current (0-30 hari) -->
      <VBox spacing="3.0" HBox.hgrow="ALWAYS" style="-fx-background-color: white; -fx-padding: 10; -fx-border-color: #4CAF50; -fx-border-width: 0 0 0 3;">
         <Label text="0-30 hari" style="-fx-font-weight: bold; -fx-text-fill: #333;">
            <font>
               <Font size="11.0" />
            </font>
         </Label>
         <Label fx:id="current30Label" text="Rp 0" style="-fx-text-fill: #4CAF50;">
            <font>
               <Font size="16.0" name="System Bold" />
            </font>
         </Label>
      </VBox>
      
      <!-- Card 2: 31-60 hari -->
      <VBox spacing="3.0" HBox.hgrow="ALWAYS" style="-fx-background-color: white; -fx-padding: 10; -fx-border-color: #FFC107; -fx-border-width: 0 0 0 3;">
         <Label text="31-60 hari" style="-fx-font-weight: bold; -fx-text-fill: #333;">
            <font>
               <Font size="11.0" />
            </font>
         </Label>
         <Label fx:id="hari3160Label" text="Rp 0" style="-fx-text-fill: #FFC107;">
            <font>
               <Font size="16.0" name="System Bold" />
            </font>
         </Label>
      </VBox>
      
      <!-- Card 3: 61-90 hari -->
      <VBox spacing="3.0" HBox.hgrow="ALWAYS" style="-fx-background-color: white; -fx-padding: 10; -fx-border-color: #FF9800; -fx-border-width: 0 0 0 3;">
         <Label text="61-90 hari" style="-fx-font-weight: bold; -fx-text-fill: #333;">
            <font>
               <Font size="11.0" />
            </font>
         </Label>
         <Label fx:id="hari6190Label" text="Rp 0" style="-fx-text-fill: #FF9800;">
            <font>
               <Font size="16.0" name="System Bold" />
            </font>
         </Label>
      </VBox>
      
      <!-- Card 4: > 90 hari (Total) -->
      <VBox spacing="3.0" HBox.hgrow="ALWAYS" style="-fx-background-color: white; -fx-padding: 10; -fx-border-color: #9C27B0; -fx-border-width: 0 0 0 3;">
         <Label text="> 90 hari" style="-fx-font-weight: bold; -fx-text-fill: #333;">
            <font>
               <Font size="11.0" />
            </font>
         </Label>
         <Label fx:id="lebih90Label" text="Rp 0" style="-fx-text-fill: #9C27B0;">
            <font>
               <Font size="16.0" name="System Bold" />
            </font>
         </Label>
      </VBox>
      
      <!-- Card 5: 91-120 hari -->
      <VBox spacing="3.0" HBox.hgrow="ALWAYS" style="-fx-background-color: white; -fx-padding: 10; -fx-border-color: #FF5722; -fx-border-width: 0 0 0 3;">
         <Label text="91-120 hari" style="-fx-font-weight: bold; -fx-text-fill: #333;">
            <font>
               <Font size="11.0" />
            </font>
         </Label>
         <Label fx:id="hari91120Label" text="Rp 0" style="-fx-text-fill: #FF5722;">
            <font>
               <Font size="16.0" name="System Bold" />
            </font>
         </Label>
      </VBox>
      
      <!-- Card 6: > 120 hari -->
      <VBox spacing="3.0" HBox.hgrow="ALWAYS" style="-fx-background-color: white; -fx-padding: 10; -fx-border-color: #F44336; -fx-border-width: 0 0 0 3;">
         <Label text="> 120 hari" style="-fx-font-weight: bold; -fx-text-fill: #333;">
            <font>
               <Font size="11.0" />
            </font>
         </Label>
         <Label fx:id="lebih120Label" text="Rp 0" style="-fx-text-fill: #F44336;">
            <font>
               <Font size="16.0" name="System Bold" />
            </font>
         </Label>
      </VBox>
   </HBox>
   
   <!-- Total Piutang Card -->
   <HBox alignment="CENTER" style="-fx-background-color: #667eea; -fx-padding: 15;">
      <VBox alignment="CENTER" spacing="5.0">
         <Label text="TOTAL PIUTANG" style="-fx-text-fill: white; -fx-font-weight: bold;">
            <font>
               <Font size="12.0" />
            </font>
         </Label>
         <Label fx:id="totalPiutangLabel" text="Rp 0" style="-fx-text-fill: white;">
            <font>
               <Font size="24.0" name="System Bold" />
            </font>
         </Label>
      </VBox>
   </HBox>

   <!-- Table Section -->
   <VBox VBox.vgrow="ALWAYS" style="-fx-background-color: white; -fx-padding: 15;" spacing="10.0">
      <HBox alignment="CENTER_LEFT" spacing="10.0">
         <Label text="Detail Piutang" style="-fx-font-weight: bold;">
            <font>
               <Font size="14.0" />
            </font>
         </Label>
         
         <Region HBox.hgrow="ALWAYS" />
         
         <Button onAction="#onExportExcelClicked" text="Export Excel" 
                 style="-fx-background-color: #10B981; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;">
            <font>
               <Font size="12.0" />
            </font>
         </Button>
      </HBox>

      <TableView fx:id="tableView" VBox.vgrow="ALWAYS">
         <columns>
            <TableColumn fx:id="kolomPelanggan" prefWidth="180.0" text="Pelanggan" />
            <TableColumn fx:id="kolomNomor" prefWidth="150.0" text="No. Invoice" />
            <TableColumn fx:id="kolomTanggal" prefWidth="110.0" text="Tanggal" />
            <TableColumn fx:id="kolomTotal" prefWidth="120.0" text="Total Invoice" />
            <TableColumn fx:id="kolomDibayar" prefWidth="120.0" text="Dibayar" />
            <TableColumn fx:id="kolomSisa" prefWidth="120.0" text="Sisa Piutang" />
            <TableColumn fx:id="kolomUmur" prefWidth="90.0" text="Umur (hari)" />
            <TableColumn fx:id="kolomKategori" prefWidth="130.0" text="Kategori" />
         </columns>
      </TableView>
   </VBox>
   
   <padding>
      <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
   </padding>
</VBox>